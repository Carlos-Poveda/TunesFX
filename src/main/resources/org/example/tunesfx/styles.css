/* Estilo por defecto para los botones del secuenciador */
.step-button {
    -fx-background-color: #3d3d3d;
    -fx-border-color: #505050;

    /* Ajusta el tamaño del botón según tus necesidades (ej. 30px) */
    -fx-min-width: 20px;
    -fx-pref-width: 20px;
    -fx-min-height: 25px; /* Asegúrate de que tenga altura suficiente */

    -fx-font-size: 10px;

    -fx-padding: 0;

    -fx-alignment: center;
    -fx-text-alignment: center;
    -fx-text-fill: white;
}

/* Mantén tus otras clases como estaban */
.step-button-on {
    -fx-background-color: #03ab10;
    -fx-border-color: #00ff17;
    /* Si quieres que el texto sea negro cuando está encendido para mejor contraste: */
    -fx-text-fill: black;
}

.step-button-playhead {
    -fx-border-color: #ffffff;
    -fx-border-width: 2;
}

/* Estilo para todos los ScrollPane */
.scroll-pane {
    /* Color de fondo para las esquinas y detrás de las barras */
    -fx-background: #121212;
    -fx-background-color: #121212;
}

/* ¡Esta es la regla clave! */
/* Cambia el fondo del área de contenido "blanca" */
.scroll-pane .viewport {
    -fx-background: #121212;
}

/* Estilo de la barra de scroll (el "carril") */
.scroll-bar:vertical, .scroll-bar:horizontal {
    -fx-background-color: #121212;
}

/* Estilo del "pulgar" (la parte que arrastras) */
.scroll-bar .thumb {
    -fx-background-color: #555555; /* Un gris más claro */
    -fx-background-radius: 5; /* Bordes redondeados */
}

.scroll-bar .thumb:hover {
    -fx-background-color: #777777; /* Más claro al pasar el ratón */
}

/* Estilo general para todos los ContextMenu */
.context-menu {
    -fx-background-color: rgba(0, 0, 0, 0.8);
    -fx-background-radius: 15;
    -fx-border-radius: 15;
    -fx-border-color: #333333;
    -fx-padding: 0; /* Para controlar mejor el espacio */
}

/* 1. ELIMINAR EL FONDO AZUL EN EL HOVER DE MENUITEM y CUSTOMMENUITEM */
.context-menu .custom-menu-item:hover,
.context-menu .custom-menu-item:focused,
.context-menu .menu-item:hover,
.context-menu .menu-item:focused {
    /* Fondo transparente para eliminar el resaltado azul en CustomMenuItems (sliders) */
    -fx-background-color: transparent;
}

/* 2. ESTILO PARA LOS MENU ITEMS ESTÁNDAR (Pitch / Tono) */
/* Deben tener texto blanco para que se vea sobre el fondo oscuro */
.context-menu .menu-item > .label {
    -fx-text-fill: white;
}

/* Cuando el Menu (Pitch / Tono) se abre, su color de fondo debe ser el mismo que el menú */
.context-menu .menu-item:hover .label,
.context-menu .menu:hover .label {
    -fx-text-fill: white;
}

/* 1. Ocultar los botones de flecha (incrementar/decrementar) en el ScrollBar */
.scroll-bar:horizontal .increment-button,
.scroll-bar:horizontal .decrement-button,
.scroll-bar:vertical .increment-button,
.scroll-bar:vertical .decrement-button {
    -fx-padding: 0;           /* Eliminar el relleno */
    -fx-pref-width: 0;        /* Asegurar que el ancho sea cero */
    -fx-pref-height: 0;       /* Asegurar que la altura sea cero */
    -fx-background-color: transparent; /* Ocultar cualquier fondo residual */
    -fx-opacity: 0;           /* Asegurar que es completamente invisible */
    -fx-scale-x: 0;           /* Reducir el tamaño a cero (método robusto) */
    -fx-scale-y: 0;
}

/* 2. Ocultar el relleno de los botones (para limpieza total) */
.scroll-bar:horizontal .increment-arrow,
.scroll-bar:horizontal .decrement-arrow,
.scroll-bar:vertical .increment-arrow,
.scroll-bar:vertical .decrement-arrow {
    -fx-padding: 0;
    -fx-shape: none; /* Eliminar la forma de la flecha */
}

/* Opcional: Estilizar la barra (track) y el pulgar (thumb) */

/* El área donde se mueve el pulgar (track) */
.scroll-bar .track {
    -fx-background-color: #202020; /* Fondo oscuro */
    -fx-background-radius: 4;
}

/* El pulgar (thumb) que el usuario arrastra */
.scroll-bar .thumb {
    -fx-background-color: #606060; /* Color del pulgar */
    -fx-background-insets: 0;
    -fx-background-radius: 4;
}

/* Estilo al pasar el ratón por el pulgar */
.scroll-bar .thumb:hover {
    -fx-background-color: #808080;
}

/* Altura y ancho de la barra (el track completo, no solo el pulgar) */

/* Scrollbar Vertical (cambiar el ancho) */
.scroll-bar:vertical {
    -fx-pref-width: 8px; /* Ancho deseado, por ejemplo, 8px */
}

/* Scrollbar Horizontal (cambiar la altura) */
.scroll-bar:horizontal {
    -fx-pref-height: 8px; /* Altura deseada, por ejemplo, 8px */
}

/* Opcional: Ajustar el tamaño del pulgar (thumb) si es necesario, aunque suele seguir el tamaño del track */
.scroll-bar .thumb {
    -fx-background-insets: 1; /* Para darle un pequeño margen al pulgar dentro del track */
}

/* Estiliza la esquina donde se cruzan las barras de desplazamiento */
.scroll-pane .corner {
    /* Usamos el mismo color oscuro de fondo que tu HBox o ventana principal */
    -fx-background-color: #202020; /* O el color de fondo de tu interfaz */
}

.synth-button {
    /* Color base y redondez */
    -fx-background-color: #424242; /* Color base azul vibrante */
    -fx-background-radius: 3;      /* Radio para esquinas redondeadas */
    -fx-border-radius: 3;
    -fx-padding: 5 5 5 5;         /* Relleno interior para hacerlo más grande */
    -fx-text-fill: white;           /* Texto blanco */
    -fx-font-weight: bold;          /* Texto en negrita */

}

/* 1. Estilo General del Spinner (Contenedor) */
.spinner {
    -fx-background-color: #424242; /* Color de fondo oscuro (similar a tu panel) */
    -fx-background-radius: 5;      /* Bordes ligeramente redondeados */
    -fx-border-color: #555555;     /* Borde sutil */
    -fx-border-radius: 5;
}

/* 2. Estilo del TextField Interno (donde se muestra el BPM) */
.spinner .text-field {
    /* Hacemos que el campo de texto sea transparente para que se vea el fondo oscuro del .spinner */
    -fx-background-color: transparent;
    -fx-border-color: transparent;      /* Quitamos cualquier borde residual */
    -fx-text-fill: white;               /* Texto del número en blanco */
    -fx-font-weight: bold;
    -fx-alignment: CENTER;              /* Centrar el número */
}

/* 3. Estilo de los Botones de Incremento/Decremento (Flechas) */
.spinner .increment-arrow-button,
.spinner .decrement-arrow-button {
    -fx-background-color: #333333; /* Fondo de los botones más oscuro que el spinner */
    -fx-background-radius: 0;      /* Quitamos la redondez del fondo para que encaje */
}

/* 4. Estilo de las flechas (las formas gráficas) */
.spinner .increment-arrow,
.spinner .decrement-arrow {
    -fx-background-color: #BBBBBB; /* Color de las flechas (gris claro) */
}

/* 5. Estilo de Hover y Press para los botones de flecha (para interacción visual) */
.spinner .increment-arrow-button:hover,
.spinner .decrement-arrow-button:hover {
    -fx-background-color: #444444; /* Oscurecer un poco al pasar el ratón */
}

/* El contenedor del divisor */
.split-pane > .split-pane-divider {
    -fx-background-color: #444444; /* Color muy oscuro (casi negro) */
    -fx-border-color: transparent;
    -fx-padding: 0 2 0 2; /* Esto controla el GROSOR de la línea (2px) */
}


/* Ocultar el "grip" (los puntitos feos por defecto) */
.split-pane > .split-pane-divider > .vertical-grabber,
.split-pane > .split-pane-divider > .horizontal-grabber {
    -fx-background-color: transparent;
    -fx-padding: 0;
    -fx-shape: " "; /* Elimina la forma geométrica de los puntos */
}

/* Fondo del diálogo y del panel de contenido */
.dialog-pane {
    -fx-background-color: #2D2D2D;
}

/* Color del texto de las etiquetas del diálogo ("Nuevo nombre:") */
.dialog-pane > .content.label {
    -fx-text-fill: #aaaaaa;
}

/* El campo de texto dentro del diálogo */
.dialog-pane .text-field {
    -fx-background-color: #1A1A1A;
    -fx-text-fill: white;
    -fx-border-color: #444444;
}

/* Los botones del diálogo (Aceptar/Cancelar) */
.dialog-pane .button {
    -fx-background-color: #444444;
    -fx-text-fill: white;
}

.dialog-pane .button:hover {
    -fx-background-color: #555555;
}

.dialog-pane .label {
    -fx-text-fill: #FFFFFF !important;
}

.dialog-pane > .content {
    -fx-text-fill: #FFFFFF !important;
}

/* --- REGLAS DE FUENTE --- */

/* 1. Estilo general para toda la aplicación */
.root, .label, .button, .text-field, .text-area {
    -fx-font-family: "Roboto Mono";
    -fx-font-size: 11px;
}

/* 2. Estilo ESPECÍFICO para el título con !important para forzar prioridad */
#title {
    -fx-font-family: "Sarina" !important;
    -fx-font-size: 11px;
    -fx-text-fill: rgba(255, 255, 255, 0.13);
}

/* Estilos para la lista de patrones */
.list-cell:filled:selected {
    -fx-background-color: #000000;
    -fx-text-fill: white;
}

.list-cell:filled:hover {
    -fx-background-color: #444444;
    -fx-text-fill: white;
}

.list-cell:filled:focused {
    -fx-background-color: #444444;
    -fx-text-fill: white;
}

/* Estilo base del TreeView */
.tree-view {
    -fx-background-color: #1A1A1A;
    -fx-control-inner-background: #1A1A1A;
    -fx-border-color: #444444;
    -fx-font-size: 10px;
}

/* Las celdas individuales */
.tree-cell {
    -fx-background-color: #1A1A1A;
    -fx-text-fill: #cccccc;
    -fx-padding: 3px 0 3px 0;
}

/* Cuando pasas el ratón por encima o seleccionas */
.tree-cell:filled:selected,
.tree-cell:filled:hover {
    -fx-background-color: #444444;
    -fx-text-fill: white;
}

/* Ocultar el recuadro azul de enfoque por defecto de JavaFX */
.tree-view:focused {
    -fx-background-color: #1A1A1A;
}
















/* =============================================================================
   PARTE 1: ESTRUCTURA BASE Y SECUENCIADOR (INTACTO)
   ============================================================================= */
/* ... (Mantén la primera parte de tu CSS para el secuenciador, barras de scroll, etc. igual que antes) ... */
.step-button { -fx-background-color: #3d3d3d; -fx-border-color: #505050; -fx-min-width: 20px; -fx-pref-width: 20px; -fx-min-height: 25px; -fx-font-size: 10px; -fx-padding: 0; -fx-alignment: center; -fx-text-alignment: center; -fx-text-fill: white; }
.step-button-on { -fx-background-color: #03ab10; -fx-border-color: #00ff17; -fx-text-fill: black; }
.step-button-playhead { -fx-border-color: #ffffff; -fx-border-width: 2; }
.scroll-pane { -fx-background: #121212; -fx-background-color: #121212; }
.scroll-pane .viewport { -fx-background: #121212; }
.scroll-bar:vertical, .scroll-bar:horizontal { -fx-background-color: #121212; }
.scroll-bar .thumb { -fx-background-color: #555555; -fx-background-radius: 5; -fx-background-insets: 1; }
.scroll-bar .thumb:hover { -fx-background-color: #777777; }
.scroll-bar .track { -fx-background-color: #202020; -fx-background-radius: 4; }
.scroll-bar:horizontal .increment-button, .scroll-bar:horizontal .decrement-button, .scroll-bar:vertical .increment-button, .scroll-bar:vertical .decrement-button { -fx-padding: 0; -fx-pref-width: 0; -fx-pref-height: 0; -fx-background-color: transparent; -fx-opacity: 0; }
.scroll-bar:horizontal .increment-arrow, .scroll-bar:horizontal .decrement-arrow, .scroll-bar:vertical .increment-arrow, .scroll-bar:vertical .decrement-arrow { -fx-padding: 0; -fx-shape: none; }
.scroll-pane .corner { -fx-background-color: #202020; }
.context-menu { -fx-background-color: rgba(0, 0, 0, 0.95); -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #444; -fx-padding: 5; }
.context-menu .menu-item > .label { -fx-text-fill: white; }
.context-menu .custom-menu-item:hover, .context-menu .menu-item:hover { -fx-background-color: #333; }
.spinner { -fx-background-color: #252525; -fx-background-radius: 3; -fx-border-color: #333; -fx-border-radius: 3; }
.spinner .text-field { -fx-background-color: transparent; -fx-text-fill: white; -fx-font-weight: bold; -fx-alignment: CENTER; }
.spinner .increment-arrow-button, .spinner .decrement-arrow-button { -fx-background-color: #333; }
.spinner .increment-arrow, .spinner .decrement-arrow { -fx-background-color: #888; }
.spinner .increment-arrow-button:hover, .spinner .decrement-arrow-button:hover { -fx-background-color: #444; }
.split-pane > .split-pane-divider { -fx-background-color: #121212; -fx-border-color: transparent; -fx-padding: 0 1 0 1; }
.split-pane > .split-pane-divider > .vertical-grabber, .split-pane > .split-pane-divider > .horizontal-grabber { -fx-background-color: transparent; -fx-shape: " "; }
.dialog-pane { -fx-background-color: #2D2D2D; }
.dialog-pane > .content.label { -fx-text-fill: #aaaaaa; }
.dialog-pane .text-field { -fx-background-color: #1A1A1A; -fx-text-fill: white; -fx-border-color: #444; }
.dialog-pane .button { -fx-background-color: #444; -fx-text-fill: white; }
.dialog-pane .label, .dialog-pane > .content { -fx-text-fill: #FFFFFF !important; }
.root, .label, .button, .text-field, .text-area { -fx-font-family: "Roboto Mono"; -fx-font-size: 11px; }
#title { -fx-font-family: "Sarina" !important; -fx-font-size: 11px; -fx-text-fill: rgba(255, 255, 255, 0.13); }
.tree-view, .list-view { -fx-background-color: #1A1A1A; -fx-control-inner-background: #1A1A1A; -fx-border-color: #333; }
.tree-cell, .list-cell { -fx-background-color: #1A1A1A; -fx-text-fill: #ccc; }
.tree-cell:filled:selected, .tree-cell:filled:hover, .list-cell:filled:selected, .list-cell:filled:hover { -fx-background-color: #333; -fx-text-fill: white; }

/* =============================================================================
   PARTE 2: NUEVO TEMA "PRO VST" (SINTETIZADOR) - COLORES CORREGIDOS
   ============================================================================= */

/* Fondo general */
.synth-background {
    -fx-background-color: #1b1d24; /* Azul muy oscuro casi negro */
    -fx-font-family: "Roboto", sans-serif;
}

/* Paneles de Efectos (Módulos) */
.module-panel {
    -fx-background-color: #23252e;
    -fx-background-radius: 6;
    -fx-border-color: #121212;
    -fx-border-radius: 6;
    -fx-border-width: 2;
    -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.7), 10, 0, 0, 5);
    -fx-padding: 10;
}

/* Cabeceras de los paneles (TEXTO MÁS CLARO) */
.module-header {
    -fx-font-size: 11px;
    -fx-font-weight: bold;
    -fx-text-fill: #ddd; /* Antes #aaa, ahora mucho más claro */
    -fx-padding: 0 0 5 0;
    -fx-border-color: transparent transparent #333 transparent;
    -fx-border-width: 1;
    -fx-margin: 0 0 10 0;
}

/* Acentos de color */
.accent-bar-orange { -fx-border-color: transparent transparent #ff9d00 transparent; -fx-border-width: 2; -fx-text-fill: #ff9d00; }
.accent-bar-purple { -fx-border-color: transparent transparent #d500f9 transparent; -fx-border-width: 2; -fx-text-fill: #d500f9; }
.accent-bar-cyan   { -fx-border-color: transparent transparent #00e5ff transparent; -fx-border-width: 2; -fx-text-fill: #00e5ff; }
.accent-bar-green  { -fx-border-color: transparent transparent #00e676 transparent; -fx-border-width: 2; -fx-text-fill: #00e676; }

/* Etiquetas del sintetizador (TEXTO MÁS CLARO) */
.osc-label {
    -fx-text-fill: #ccc; /* Antes #777, ahora gris claro */
    -fx-font-size: 9px;
    -fx-font-weight: bold;
    -fx-letter-spacing: 0.5px;
}

.osc-value {
    -fx-text-fill: #fff; /* Blanco puro para los valores */
    -fx-font-weight: bold;
    -fx-font-size: 10px;
}

/* --- SLIDERS (Faders) --- */
.synth-slider { -fx-skin: 'javafx.scene.control.skin.SliderSkin'; }
.synth-slider:horizontal .track { -fx-background-color: #15161a; -fx-pref-height: 6px; -fx-background-radius: 3; }
.synth-slider:horizontal .thumb { -fx-background-color: #dcdcdc; -fx-background-radius: 1; -fx-border-color: #000; -fx-border-radius: 1; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.8), 4, 0, 0, 2); -fx-cursor: hand; -fx-pref-width: 10px; -fx-pref-height: 18px; -fx-background-insets: -6 0 -6 0; }
.synth-slider:vertical .track { -fx-background-color: #15161a; -fx-pref-width: 6px; -fx-background-radius: 3; }
.synth-slider:vertical .thumb { -fx-background-color: #00e5ff; -fx-background-radius: 2; -fx-pref-height: 10px; -fx-pref-width: 16px; -fx-shape: "M0,0 L10,0 L10,5 L0,5 Z"; -fx-cursor: hand; -fx-background-insets: 0 -5 0 -5; }
.synth-slider .thumb:hover { -fx-background-color: #fff; -fx-effect: dropshadow(three-pass-box, rgba(255,255,255,0.4), 6, 0, 0, 0); }
.synth-slider .thumb:pressed { -fx-background-color: #bbb; }
.slider-cyan .track-progress { -fx-background-color: linear-gradient(to right, #008ba3, #00e5ff); }

/* --- CONTROLES --- */
.synth-combo { -fx-background-color: #222; -fx-text-fill: #ddd; -fx-background-radius: 3; -fx-border-color: #333; -fx-border-radius: 3; -fx-font-size: 10px; }
.synth-combo .cell { -fx-text-fill: #ddd; -fx-background-color: transparent; }
.synth-combo .arrow { -fx-background-color: #666; }
.synth-toggle { -fx-background-color: #222; -fx-text-fill: #666; -fx-background-radius: 3; -fx-border-color: #333; -fx-border-radius: 3; -fx-font-size: 9px; -fx-font-weight: bold; -fx-cursor: hand; }
.synth-toggle:selected { -fx-background-color: #333; -fx-text-fill: #fff; -fx-border-color: #555; }
.save-btn { -fx-background-color: #00e5ff; -fx-text-fill: #111; -fx-font-weight: bold; -fx-background-radius: 3; -fx-font-size: 11px; -fx-cursor: hand; }
.save-btn:hover { -fx-background-color: #80f3ff; }

/* --- PIANO (ANCHO COMPLETO) --- */
.piano-container {
    -fx-padding: 10;
    -fx-background-color: #111;
    -fx-border-color: #333;
    -fx-border-width: 2 0 0 0;
}
.piano-key-white {
    -fx-background-color: linear-gradient(to bottom, #fff 0%, #eee 100%);
    -fx-background-radius: 0 0 4 4;
    /* SE HA ELIMINADO -fx-pref-width FIJO PARA QUE SE ESTIRE */
    -fx-pref-height: 120px;
    -fx-border-color: #aaa;
    -fx-border-width: 0 1 1 1;
    -fx-text-alignment: center;
    -fx-alignment: bottom-center;
    -fx-padding: 0 0 5 0;
    -fx-font-size: 9px;
    -fx-text-fill: #555;
}
.piano-key-white:pressed { -fx-background-color: #ccc; }
.piano-key-black {
    -fx-background-color: linear-gradient(to bottom, #333 0%, #000 100%);
    -fx-background-radius: 0 0 3 3;
    -fx-pref-width: 24px; /* Un poco más anchas */
    -fx-pref-height: 75px;
    -fx-border-color: #000;
}
.piano-key-black:pressed { -fx-background-color: #555; }